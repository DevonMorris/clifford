# 3D Conformal Geometric Algebra
# Cl(4,1,0) - Embeds 3D Euclidean space into 5D conformal space
# Reference: https://conformalgeometricalgebra.org/wiki/index.php?title=Main_Page

[algebra]
name = "conformal3"
module_path = "conformal/dim3"
description = "3D Conformal Geometric Algebra Cl(4,1,0)"

[signature]
positive = ["e1", "e2", "e3", "e4"]
negative = ["e5"]
zero = []

[norm]
# Conformal GA uses reverse for norm (non-degenerate algebra)
# Note: This gives an indefinite norm (can be positive, negative, or zero)
# Null vectors (norm = 0) represent actual geometric points
primary_involution = "reverse"

# ============================================================
# Types (following conformalgeometricalgebra.org conventions)
# ============================================================

[types.Scalar]
grades = [0]
description = "Scalar (grade-0 element)"

[types.RoundPoint]
grades = [1]
description = "Round point (null vectors represent actual points)"
fields = ["x", "y", "z", "w", "u"]

[types.Dipole]
grades = [2]
description = "Dipole (point pair, oriented line segment)"
fields = ["vx", "vy", "vz", "mx", "my", "mz", "px", "py", "pz", "pw"]

[types.Circle]
grades = [3]
description = "Circle in 3D space"
fields = ["gx", "gy", "gz", "gw", "vx", "vy", "vz", "mx", "my", "mz"]

[types.Sphere]
grades = [4]
description = "Sphere in 3D space"
fields = ["u", "x", "y", "z", "w"]

[types.Pseudoscalar]
grades = [5]
description = "Pseudoscalar (oriented 5-volume)"
fields = ["xyzwu"]

[types.Motor]
grades = [0, 2, 4]
description = "Motor (even subalgebra for conformal transformations)"
fields = ["s", "vx", "vy", "vz", "mx", "my", "mz", "px", "py", "pz", "pw", "u", "sx", "sy", "sz", "sw"]

# ============================================================
# Sparse Types (subset of blades within a grade)
# These types are constrained versions of the full types above.
# Reference: https://conformalgeometricalgebra.org/wiki/index.php?title=Primitives
# ============================================================

# Line = Circle through infinity (g=0)
# Uses only 6 of the 10 grade-3 blades
[types.Line]
grades = [3]
fields = ["vx", "vy", "vz", "mx", "my", "mz"]
blades = ["e145", "e245", "e345", "e235", "e135", "e125"]
description = "Line (circle through infinity, g=0)"

# Plane = Sphere through infinity (u=0)
# Uses only 4 of the 5 grade-4 blades
[types.Plane]
grades = [4]
fields = ["x", "y", "z", "w"]
blades = ["e2345", "e1345", "e1245", "e1235"]
description = "Plane (sphere through infinity, u=0)"

# FlatPoint = Dipole with v=0, m=0
# Uses only 4 of the 10 grade-2 blades
[types.FlatPoint]
grades = [2]
fields = ["px", "py", "pz", "pw"]
blades = ["e15", "e25", "e35", "e45"]
description = "Flat point (v=0, m=0)"
