# 3D Projective Geometric Algebra (PGA)
# Cl(3,0,1) - 3 positive bases, 1 degenerate basis
#
# Point-based formulation where:
# - Grade 1 = Points (homogeneous coordinates)
# - Grade 2 = Lines (Plücker coordinates)
# - Grade 3 = Planes
# - Grade 0+2+4 = Motors (rigid transformations)
# - Grade 1+3 = Flectors (reflections)

[algebra]
name = "projective3"
module_path = "projective::dim3"
description = "3D Projective Geometric Algebra"

[signature]
positive = ["e1", "e2", "e3"]
negative = []
zero = ["e0"]

[blades]
# Scalar (grade 0)
# (implicit)

# Vectors (grade 1) - represent points in homogeneous coordinates
e1 = "e1"
e2 = "e2"
e3 = "e3"
e4 = "e0"  # e4 is the degenerate basis, named e0 in PGA convention

# Bivectors (grade 2) - represent lines
# Euclidean bivectors (rotation part)
e23 = "e23"
e13 = "e31"  # Note: named e31 for PGA convention
e12 = "e12"
# Translation bivectors (e0 wedge ei)
e14 = "e01"
e24 = "e02"
e34 = "e03"

# Trivectors (grade 3) - represent planes
e234 = "e023"  # Note: named e023 for PGA convention
e134 = "e031"  # Note: named e031 for PGA convention
e124 = "e012"  # Note: named e012 for PGA convention
e123 = "e123"

# Quadvector (grade 4) - pseudoscalar
e1234 = "e0123"

# ============================================================
# Types
# ============================================================

[types.Scalar]
grades = [0]
fields = ["s"]

[types.Point]
grades = [1]
description = "3D point in homogeneous coordinates"
fields = ["x", "y", "z", "w"]

[types.Line]
grades = [2]
description = "3D line in Plücker coordinates"
# Lexicographic: e12 (mz), e13=e31 (-my), e14=e01 (dx), e23 (mx), e24=e02 (dy), e34=e03 (dz)
fields = ["mz", "my", "dx", "mx", "dy", "dz"]

[types.Plane]
grades = [3]
description = "3D plane"
# Lexicographic internal order: e123, e124, e134, e234
# Maps to PGA: e123 (d), e012 (nz), e031 (-ny), e023 (nx)
fields = ["d", "nz", "ny", "nx"]

[types.Quadvector]
grades = [4]
fields = ["ps"]

[types.Motor]
grades = [0, 2, 4]
description = "3D rigid transformation (rotation + translation)"
# Grade 0: scalar
# Grade 2 lexicographic: e12 (bz), e13=e31 (by), e14=e01 (tx), e23 (bx), e24=e02 (ty), e34=e03 (tz)
# Grade 4: pseudoscalar
fields = ["s", "bz", "by", "tx", "bx", "ty", "tz", "ps"]

[types.Flector]
grades = [1, 3]
description = "3D reflection/glide transformation"
# Grade 1: [e1, e2, e3, e4=e0] → [px, py, pz, pw]
# Grade 3: [e123, e124=e012, e134=e031, e234=e023] → [d, nz, ny, nx]
fields = ["px", "py", "pz", "pw", "d", "nz", "ny", "nx"]
